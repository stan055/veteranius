<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
            integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
            integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
        </script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous">
        </script>
        <title>Veteranius</title>
    </head>
<body>
    <nav class="navbar navbar-expand navbar-light bg-light">
        <a class="navbar-brand" href="#">Veteranius</a>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Week 6 API
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="nav-link" href="/">Easy</a>
                        <a class="nav-link" href="/week6/medium">Medium</a>
                        <a class="nav-link" href="/week6/hard">Hard</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        Week 9 Algoritms
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <a class="nav-link" href="/week9/easy">Easy</a>
                        <a class="nav-link" href="/week9/medium">Medium</a>
                        <a class="nav-link" href="/week9/difficult">Difficult</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container xl-6 pt-4" style="max-width: 700px;">
        <h5>(Difficult) Algorithms</h5>
        <div>
            <ol>
                <li> For a given sentence, return the average word length. Remember to remove punctuation first.</li>
                <li> Insert x into sorted array to keep it properly sorted. Time complexity should be lower than N.</li>
            </ol>
        </div>
        <br>

        <div class="d-flex justify-content-center">
            <div class="card">
                <div class="card-header">
                    1. Returns the average word length
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>
                            <textarea name="" id="editor1" cols="60" rows="10"></textarea>
                        </p>
                        <button class="btn btn-primary" onclick="btnSmallNum()">Run</button>
                    </blockquote>
                    <div class="pt-5">
                        <p id="resultEditor1" style="background-color: orange; font-size: x-large;"></p>
                    </div>
                </div>
            </div>
        </div>
        <br><br><br><br>
        <div class="d-flex justify-content-center">
            <div class="card">
                <div class="card-header">
                    2. Insert x into sorted array to keep it properly sorted.
                </div>
                <div class="card-body">
                    <blockquote class="blockquote mb-0">
                        <p>
                            <textarea name="" id="editor2" cols="60" rows="10"></textarea>
                        </p>
                        <button class="btn btn-primary" onclick="btnSort()">Run</button>
                    </blockquote>
                    <div class="pt-5">
                        <p id="resultEditor2" style="background-color: orange; font-size: x-large;"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let resultP;
        $(document).ready(function(){
            $('#editor1').val(
`const punctsArr = [',', '.'];
const strOrigin = 'For a given sentence, return the average word length. Remember to remove punctuation first.'; 

function removePunctuation(str, puncts) {
    let noPunctStr = '';
    for (let i = 0; i < str.length; i++) {
        let ok = true;
        puncts.forEach(el => {
            if (el === str[i])
                ok = false;
        });
        if (ok) 
            noPunctStr += str[i];
    }
    return noPunctStr;
}

function mySplit(str, separ) {
    let word = '';
    const words = [];

    for (let i = 0; i < str.length; i++) {
        if (str[i] === separ && word.length > 0) {
            words.push(word);
            word = '';
        } else {
            word += str[i];
        }
    };
    if (word.length > 0) {
        words.push(word);
    }
    return words;
}

let noPunctStr = removePunctuation(strOrigin, punctsArr);
let wordArr = mySplit(noPunctStr, ' ')

let accumulator = 0;
wordArr.forEach(el => accumulator += el.length);
let averageWordLength = accumulator / wordArr.length;
console.log(averageWordLength);
`
            );

            $('#editor2').val(
`let count = 0;

function myBinarySearch(arr, x) {
    let n = Math.floor(arr.length / 2);
    while (true) {
        count++;
        if (n + 1 == arr.length)
            return n + 1;

        if ( n - 1 == 0)
            return n - 1;

        if (arr[n - 1] <= x && arr[n + 1] >= x) {
            if (arr[n] == x)
                return n;
            if (arr[n] > x)
                return n - 1;
            return n + 1;
        }

        if (arr[n] > x)
            n = Math.floor(n / 2); 
        else 
            n = Math.floor(n + Math.floor((arr.length - n) / 2));
    }
}

let sortedArr = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
const x = 8;
const n = myBinarySearch(sortedArr, x);
sortedArr.splice(n, 0, x);
const result = 'count => ' + count + '<br>' + sortedArr.toString();
console.log(result);  
`
            );

            console.log = function (message) {
                if (typeof message == 'object') {
                    resultP.innerHTML = (JSON && JSON.stringify ? JSON.stringify(message) : message);
                } else {
                    resultP.innerHTML = message;
                }
            }
        });

        function btnSmallNum() {
            const result = $('#editor1').val();
            resultP = document.getElementById('resultEditor1');
            eval(result);
        }

        function btnSort() {
            const result = $('#editor2').val();
            resultP = document.getElementById('resultEditor2');
            eval(result);
        }
    </script>
</body>
</html>